Day 8 Exp 13

a)

--Before the program--

SET SERVEROUTPUT ON

--Program--

DECLARE

EMPLID VARCHAR2(5);
A NUMBER;
B NUMBER;

PROCEDURE INCCOMMISSION(X IN NUMBER,Y OUT NUMBER)
IS
BEGIN
    Y:=X+X*5/100;
END;

BEGIN
    EMPLID:='&EMPID';
    
    SELECT COMM INTO A
    FROM EMPLOYEE
    WHERE EMPID=EMPLID;

    INCCOMMISSION(A,B);
    
    UPDATE EMPLOYEE
    SET COMM=B
    WHERE EMPID=EMPLID;

    DBMS_OUTPUT.PUT_LINE('UPDATED COMMISSION OF EMPLOYEE WITH EMPID '||EMPLID||' AND COMMISSION IS : '||B );

END;
/

--After Program--

SELECT * FROM EMPLOYEE;

UPDATE Employee SET Comm = 1000 WHERE EmpName ='Bony';

b)

--Before Program--
SELECT * FROM EMPLOYEE;
SET SERVEROUTPUT ON

--Program--

DECLARE
    EMPLID VARCHAR2(5);
    EMANAGER VARCHAR2(5);

FUNCTION MANAGERNAME(X IN VARCHAR2) RETURN VARCHAR2
IS
    NAME VARCHAR2(5);

BEGIN

    SELECT MANAGER INTO NAME
    FROM EMPLOYEE
    WHERE EMPID=X;
    RETURN NAME;

END;

BEGIN
    EMPLID:='&EMPID';
    EMANAGER:=MANAGERNAME(EMPLID);
    DBMS_OUTPUT.PUT_LINE('MANAGER NAME IS :'||EMANAGER);
END;
/